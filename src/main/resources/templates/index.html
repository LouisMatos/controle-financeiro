<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:cache="http://www.thymeleaf.org/extras/cache">
<head>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<title>Controle Financeiro!</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src=
"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>
    
    
    <link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
	 <link rel="stylesheet"
	href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap4.min.css">
   



</head>
<body>
	<div class="container">
		<form method="POST" th:action="@{/upload}"
			enctype="multipart/form-data">
			<div class="form-group">
			<h3 class="mb-2 mt-2  text-center">Importar Transações</h3>
				<label for="arquivo"></label>
				<div class="input-group">
					<div class="input-group-prepend">
						<div class="input-group-text">Choose File</div>
					</div>
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="arquivo"
							name="arquivo"> <label class="custom-file-label"
							for="inputGroupFile01"></label>
					</div>
				</div>
				<span id="arquivoHelpBlock" class="form-text text-muted">Selecione
					o arquivo para realizar o upload!</span>
			</div>
			<div class="alert alert-success alert-dismissible fade show" id="alert" th:if="${message}" role="alert"><span th:text="${message}"></span></div>
			<div class="alert alert-danger alert-dismissible fade show" id="error"	th:if="${messageError}" role="alert"><span th:text="${messageError}"></span></div>
			<div class="form-group">
				<button name="submit" type="submit" class="btn btn-primary">Importar</button>
			</div>
		</form>
		
		
	<hr>

		<div class="form-group">

			<h3 class="mb-2 mt-2  text-center">Importações Realizadas</h3>

			<table id="example" class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>Data Transações</th>
						<th>Data Importação</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="importacao : ${importacoesRealizadas}">
<!-- 						<td><span class="date text-black-50" th:text="${#temporals.format(importacao.dataTransacoes, 'dd/MM/yyyy')}"></span></td> -->
<!-- 						<td><span class="date text-black-50"s th:text="${#temporals.format(importacao.dataImportacao, 'dd/MM/yyyy')}"></span></td> -->
					<td><span class="" th:text="${importacao.dataTransacoes}"></span></td>
						<td><span class="" th:text="${importacao.dataImportacao}"></span></td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<th>Data Transações</th>
						<th>Data Importação</th>
					</tr>
				</tfoot>
			</table>
		</div>


	</div>
</body>
</html>
<script>
	$(".alert-dismissible").fadeTo(2000, 500).slideUp(500, function() {
		$(".alert-dismissible").alert('close');
	});

	$(document).ready(function() {

		$('#example').DataTable({
			"columnDefs" : [ {
				"className" : "dt-center",
				"targets" : "_all"
			} ]
		});

	});
</script>